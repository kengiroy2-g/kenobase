---
status: COMPLETE
task: TASK_024
role: EXECUTOR
phase: EXECUTOR
files_changed:
  - scripts/test_hyp014_overlap_autocorrelation.py
  - results/hyp014_overlap_autocorrelation.json
summary:
  - Created test_hyp014_overlap_autocorrelation.py implementing HYP_014 analysis
  - Computes Pearson autocorrelation at lag=1..7 for overlap_count time series
  - Block-permutation null model (7-day blocks) preserves weekly structure
  - N=1456 observations, mean overlap=5.749 (expected 5.714)
  - Max |r|=0.0684 at lag=4 (below |r|<0.1 threshold)
  - Permutation tests significant at lag=4 (p=0.009) and lag=7 (p=0.044)
  - Ljung-Box Q=13.56, df=7, p=0.059 (marginally non-significant)
  - Decision: SUPPORT (weak temporal dependency detected via permutation test)
---

# Rule Confirmation
- Rule 1 (SYSTEM_STATUS + ADR/Docs + git status): CONFIRMED
- Rule 2 (granularity stated): global (overlap_count time series)
- Rule 3 (semantics defined): overlap_count = |numbers_t intersect numbers_{t-1}|, range 0-20
- Rule 4 (target metric): Pearson autocorrelation r at lag=1..7
- Rule 5 (helper-only boundaries): CONFIRMED (standalone script, no module changes)
- Rule 6 (reproducibility): `python scripts/test_hyp014_overlap_autocorrelation.py` -> `results/hyp014_overlap_autocorrelation.json`

## Task Setup
- Granularity: global (entire overlap time series)
- Semantics: overlap_count = number of shared numbers between consecutive draws
- Target metric: Pearson autocorrelation coefficient at multiple lags

## Repro Commands
- `python scripts/test_hyp014_overlap_autocorrelation.py` -> `results/hyp014_overlap_autocorrelation.json`

# Umsetzung

## Implementation Details

Created `scripts/test_hyp014_overlap_autocorrelation.py` with:
1. **Data loading**: Reads KENO draws, computes overlap_count series
2. **Autocorrelation**: Pearson correlation at lag=1..7
3. **Null model**: Block-permutation with 7-day blocks (preserves weekly structure)
4. **Tests**: Per-lag permutation tests (n=1000) + Ljung-Box overall test
5. **Decision logic**: SUPPORT if |r|>=0.1 OR any permutation test significant

## Key Results

| Lag | r | p-value (perm) | Significant |
|-----|-------|----------------|-------------|
| 1 | -0.0231 | 0.283 | No |
| 2 | 0.0071 | 0.753 | No |
| 3 | 0.0371 | 0.211 | No |
| 4 | -0.0684 | 0.009 | Yes* |
| 5 | -0.0092 | 0.656 | No |
| 6 | -0.0021 | 0.938 | No |
| 7 | 0.0504 | 0.044 | Yes* |

Ljung-Box: Q=13.56, df=7, p=0.059 (marginally non-significant)

## Interpretation

- All |r| values are below the 0.1 threshold (consistent with near-random behavior)
- However, lag=4 and lag=7 show statistically significant autocorrelation in permutation tests
- This suggests weak but detectable temporal structure in overlap patterns
- Practical significance is low (effect sizes ~0.05-0.07)
- Hypothesis HYP_014 receives weak SUPPORT

## Output Artifact
- Path: `results/hyp014_overlap_autocorrelation.json`
- Contains: metadata, basic_stats, autocorrelations, permutation_tests, ljung_box_test, decision

**Handoff saved to:** `AI_COLLABORATION/HANDOFFS/ki2_TASK_024_EXECUTOR_20251230_202349.md`
