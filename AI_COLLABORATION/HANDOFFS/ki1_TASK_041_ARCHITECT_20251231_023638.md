---
status: COMPLETE
task: TASK_041
role: ARCHITECT
phase: ARCHITECT
files_changed: []
summary:
  - Analyzed existing V1/V2 phase comparison (results/v1_v2_phase_comparison.json)
  - Found post_jackpot_backtest.json uses fixed tickets, not V1/V2 models
  - Task: Compare V1 vs V2 specifically in 30-day post-jackpot cooldown window
  - Existing compare_v1_v2_phases.py uses 3-tier phases but not 30-day window test
  - Need new script: backtest_v1_v2_cooldown.py with frozen 30-day window
  - Key metric: ROI delta (V2-V1) during cooldown vs normal periods
  - Output: results/v1_v2_cooldown_comparison.json
---

# Rule Confirmation
- Rule 1 (SYSTEM_STATUS + ADR/Docs + git status): CONFIRMED
- Rule 2 (granularity stated): per-phase (cooldown vs normal)
- Rule 3 (semantics defined): cooldown = 0-30 days post-jackpot; normal = >30 days
- Rule 4 (target metric): ROI delta (V2-V1) in cooldown vs normal phases
- Rule 5 (helper-only boundaries): CONFIRMED
- Rule 6 (reproducibility): python scripts/backtest_v1_v2_cooldown.py -> results/v1_v2_cooldown_comparison.json

## Task Setup
- Granularity: per-phase (cooldown vs normal)
- Semantics: cooldown = 0-30 days post-jackpot, normal = >30 days
- Target metric: ROI comparison (V1 vs V2) per phase

## Repro Commands
- python scripts/backtest_v1_v2_cooldown.py -> results/v1_v2_cooldown_comparison.json

# Implementierungsplan

## Kontext

**Hypothese WL-003:** Nach Jackpot (GK1) = System muss sparen = weniger Gewinne.

Bestehende Analysen:
- `results/post_jackpot_backtest.json`: Testet feste Tickets in 30-Tage-Fenstern (11 Jackpots, 314 Draws)
- `results/v1_v2_phase_comparison.json`: Vergleicht V1/V2 mit 3-Tier-Phasen

**Gap:** Kein direkter V1 vs V2 Vergleich fuer exaktes 30-Tage-Cooldown-Fenster.

## Checkliste

1. Script `scripts/backtest_v1_v2_cooldown.py` anlegen
2. `is_in_cooldown(date, jackpot_dates, window_days=30)` implementieren
3. Backtest V1 und V2 mit Cooldown-Tracking
4. ROI-Delta berechnen pro Phase
5. Output: `results/v1_v2_cooldown_comparison.json`

## Acceptance Criteria
1. Script laeuft: `python scripts/backtest_v1_v2_cooldown.py`
2. Output existiert: `results/v1_v2_cooldown_comparison.json`
3. Cooldown = 0-30 Tage post-Jackpot korrekt implementiert
4. Konsistent mit 11 Jackpots (2022-2024)

## WORKING_SET_REQUEST:
- scripts/super_model_v1_birthday.py
- scripts/super_model_v2_birthday_signal.py
- scripts/super_model_synthesis.py
- scripts/backtest_post_jackpot.py
