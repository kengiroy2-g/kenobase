---
status: COMPLETE
task: HYP003-002
role: EXECUTOR
phase: EXECUTOR
files_changed:
  - kenobase/scraper/converters.py (NEW)
  - kenobase/scraper/__init__.py
  - kenobase/analysis/regional_affinity.py
  - scripts/analyze_hyp003_regional.py (NEW)
  - tests/unit/test_regional_affinity.py
  - tests/unit/test_converters.py (NEW)
summary:
  - Created kenobase/scraper/converters.py with KenoWinnerRecord -> DrawResult conversion
  - Added load_scraped_winners() and load_all_scraped_winners() for JSON loading
  - Implemented calculate_distribution_chi2() in regional_affinity.py for Chi-Quadrat test
  - Added BUNDESLAND_POPULATION_SHARE (16 Bundeslaender) for expected distribution
  - Created scripts/analyze_hyp003_regional.py for end-to-end HYP-003 regional analysis
  - Added 26 unit tests (13 for regional_affinity, 13 for converters) - all pass
  - Script runs successfully but needs more scraped data (only 2 records from 1 Bundesland)
---
# Rule Confirmation
- Rule 1 (SYSTEM_STATUS + ADR/Docs + git status): CONFIRMED
- Rule 2 (granularity stated): per-bundesland
- Rule 3 (semantics defined): bundesland (normalized ASCII key), Chi2 statistic, p-value, deviations
- Rule 4 (target metric): regional_distribution_chi2 (p-value < 0.05 = significant deviation)
- Rule 5 (helper-only boundaries): CONFIRMED
- Rule 6 (reproducibility): `python scripts/analyze_hyp003_regional.py --scraped-dir data/scraped` -> results/hyp003_regional_distribution.json | VERIFIED

## Task Setup
- Granularity: per-bundesland (16 German Bundeslaender)
- Semantics: bundesland (ASCII key via normalize_region()), chi2_statistic, p_value, observed, expected
- Target metric: Chi-Quadrat test p-value; is_significant = p < 0.05

## Repro Commands
- `python scripts/analyze_hyp003_regional.py --scraped-dir data/scraped` -> results/hyp003_regional_distribution.json | VERIFIED
- `python -m pytest tests/unit/test_regional_affinity.py tests/unit/test_converters.py -v` -> 26 tests PASSED | VERIFIED
