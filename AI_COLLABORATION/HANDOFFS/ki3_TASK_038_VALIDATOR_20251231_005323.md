---
status: REJECTED
task: TASK_038
role: VALIDATOR
phase: VALIDATOR
validated_handoff: "ki1_TASK_038_ARCHITECT_20251231_002901.md"
summary:
  - results/v1_v2_performance_synthesis.md:27 misst die Durchschnitts-ROI; Rohdaten (results/backtest_v1_v2_comparison.json, N=2237) liefern -48.33%/-35.43% statt -43.5%/-32.4%.
  - Repro-Command in results/v1_v2_performance_synthesis.md:93-97 scheitert in PowerShell mit SyntaxError; kein PS-sicherer Ersatz angegeben.
  - Neues Validator-Handoff abgelegt unter AI_COLLABORATION/HANDOFFS/ki3_TASK_038_VALIDATOR_20251231_005323.md; CURRENT_STATUS.md unverändert (außerhalb Working Set).
---
# Rule Confirmation
- Rule 1 (SYSTEM_STATUS + ADR/Docs + git status): CONFIRMED
- Rule 2 (granularity stated): global
- Rule 3 (semantics defined): roi_percent in v1_results/v2_results, draws_count
- Rule 4 (target metric): bet-selection (ROI)
- Rule 5 (helper-only boundaries): CONFIRMED
- Rule 6 (reproducibility): @'
import json
from pathlib import Path

data = json.loads(Path('results/backtest_v1_v2_comparison.json').read_text())

def mean(values):
    return sum(v['roi_percent'] for v in values) / len(values)

v1 = list(data['v1_results'].values())
v2 = list(data['v2_results'].values())
print('draws', data.get('draws_count'))
print('v1_n', len(v1), 'avg_roi', round(mean(v1), 2))
print('v2_n', len(v2), 'avg_roi', round(mean(v2), 2))
'@ | python - -> stdout (draws 2237; v1_n 18 avg_roi -48.33; v2_n 30 avg_roi -35.43)

## Task Setup
- Granularity: global
- Semantics: roi_percent fields in results/backtest_v1_v2_comparison.json; draws_count = 2237
- Target metric: bet-selection (ROI)

## Repro Commands
- @'
import json
from pathlib import Path

data = json.loads(Path('results/backtest_v1_v2_comparison.json').read_text())

def mean(values):
    return sum(v['roi_percent'] for v in values) / len(values)

v1 = list(data['v1_results'].values())
v2 = list(data['v2_results'].values())
print('draws', data.get('draws_count'))
print('v1_n', len(v1), 'avg_roi', round(mean(v1), 2))
print('v2_n', len(v2), 'avg_roi', round(mean(v2), 2))
'@ | python - -> stdout (draws 2237; v1_n 18 avg_roi -48.33; v2_n 30 avg_roi -35.43)
- cat results/backtest_v1_v2_comparison.json | python -c "import json,sys; d=json.load(sys.stdin); print(f'N={d[\"draws_count\"]}')" -> SyntaxError: unterminated string literal (PowerShell)

# Validation
- results/v1_v2_performance_synthesis.md:27 reports avg ROI -43.5%/-32.4% but recalculation from results/backtest_v1_v2_comparison.json (N=2237) yields -48.33%/-35.43 via command above; table needs correction.
- results/v1_v2_performance_synthesis.md:93-97 repro command fails in PowerShell with SyntaxError; requires PS-safe command (e.g., a heredoc to python) before users can reproduce N=2237.
- CURRENT_STATUS.md not updated (outside working set); new validator handoff saved at AI_COLLABORATION/HANDOFFS/ki3_TASK_038_VALIDATOR_20251231_005323.md.

Next steps:
1) Update results/v1_v2_performance_synthesis.md averages using the JSON-derived means and cite the command.
2) Replace the broken repro command with a PowerShell-safe variant so the draw count can be reproduced.