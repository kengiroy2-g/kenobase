---
status: REJECTED
task: TASK_038
role: VALIDATOR
phase: VALIDATOR
validated_handoff: "ki1_TASK_038_ARCHITECT_20251231_002901.md"
summary:
  - results/v1_v2_performance_synthesis.md:27 reports avg ROI -43.5%/-32.4%, but results/backtest_v1_v2_comparison.json (N=2237) gives -48.33%/-35.43% via PS command; table row is incorrect.
  - Repro command at results/v1_v2_performance_synthesis.md:93-97 fails in PowerShell with SyntaxError (unterminated string literal); PS-safe alternative required for N=2237 reproduction.
  - Other table metrics (best, worst, positive-count) match JSON stats; issue isolated to averages.
  - New validator handoff saved to AI_COLLABORATION/HANDOFFS/ki3_TASK_038_VALIDATOR_20251231_005623.md; CURRENT_STATUS.md untouched (outside working set).
---
# Rule Confirmation
- Rule 1 (SYSTEM_STATUS + ADR/Docs + git status): CONFIRMED
- Rule 2 (granularity stated): global
- Rule 3 (semantics defined): roi_percent fields in v1_results/v2_results, draws_count
- Rule 4 (target metric): bet-selection
- Rule 5 (helper-only boundaries): CONFIRMED
- Rule 6 (reproducibility): @'
import json
from pathlib import Path

data = json.loads(Path('results/backtest_v1_v2_comparison.json').read_text())

def mean(values):
    return sum(v['roi_percent'] for v in values) / len(values)

v1 = list(data['v1_results'].values())
v2 = list(data['v2_results'].values())
print('draws', data.get('draws_count'))
print('v1_n', len(v1), 'avg_roi', round(mean(v1), 2))
print('v2_n', len(v2), 'avg_roi', round(mean(v2), 2))
'@ | python - -> stdout (draws 2237; v1_n 18 avg_roi -48.33; v2_n 30 avg_roi -35.43)

## Task Setup
- Granularity: global
- Semantics: roi_percent in v1_results/v2_results; draws_count = 2237
- Target metric: bet-selection (ROI)

## Repro Commands
- @'
import json
from pathlib import Path

data = json.loads(Path('results/backtest_v1_v2_comparison.json').read_text())
def mean(values): return sum(v['roi_percent'] for v in values) / len(values)
v1 = list(data['v1_results'].values()); v2 = list(data['v2_results'].values())
print('draws', data.get('draws_count')); print('v1_n', len(v1), 'avg_roi', round(mean(v1), 2)); print('v2_n', len(v2), 'avg_roi', round(mean(v2), 2))
'@ | python - -> stdout (draws 2237; v1_n 18 avg_roi -48.33; v2_n 30 avg_roi -35.43)
- cat results/backtest_v1_v2_comparison.json | python -c "import json,sys; d=json.load(sys.stdin); print(f'N={d[\"draws_count\"]}')" -> SyntaxError: unterminated string literal (PowerShell)

# Validation
- results/v1_v2_performance_synthesis.md:27 averages conflict with computed means from results/backtest_v1_v2_comparison.json (N=2237) using PS command above; correct values are -48.33% (V1) and -35.43% (V2), not -43.5%/-32.4%.
- results/v1_v2_performance_synthesis.md:93-97 repro command is not PowerShell-safe and raises SyntaxError: unterminated string literal; users cannot reproduce the reported N without a PS-compatible command.
- current_status: not updated (outside working set).