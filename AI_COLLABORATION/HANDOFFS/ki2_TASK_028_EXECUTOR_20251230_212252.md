---
status: COMPLETE
task: TASK_028
role: EXECUTOR
phase: EXECUTOR
files_changed:
  - kenobase/prediction/ticket_backtester.py
  - scripts/backtest_random_tickets.py
  - results/random_ticket_null_model.json
summary:
  - Added walk_forward_backtest_random_tickets() to ticket_backtester.py
  - Added RandomTicketBacktestResult and RandomNullModelResult dataclasses
  - Added save_random_null_model_json() helper function
  - Created scripts/backtest_random_tickets.py CLI script
  - Monte-Carlo with 100 seeds, parallelized via joblib
  - Generated results/random_ticket_null_model.json with comparison
  - Conclusion: Weighted-freq strategy shows no significant advantage over random baseline
---
# Rule Confirmation
- Rule 1 (SYSTEM_STATUS + ADR/Docs + git status): CONFIRMED
- Rule 2 (granularity stated): global (alle Ziehungen, alle Keno-Typen)
- Rule 3 (semantics defined): mean_hits_random, std_hits_random, mean_hits_weighted_freq, random_vs_weighted_diff
- Rule 4 (target metric): mean_hits (Treffer-Durchschnitt als Vergleichsmetrik)
- Rule 5 (helper-only boundaries): CONFIRMED
- Rule 6 (reproducibility): `python scripts/backtest_random_tickets.py --seeds 100 --types 2,6,8,10 --output results/random_ticket_null_model.json` -> `results/random_ticket_null_model.json`

## Task Setup
- Granularity: global (alle verfuegbaren Ziehungen)
- Semantics: mean_hits pro Keno-Typ, std across random seeds, comparison with weighted-freq
- Target metric: mean_hits - Differenz random vs weighted-frequency

## Repro Commands
- `python scripts/backtest_random_tickets.py --seeds 100 --types 2,6,8,10 --output results/random_ticket_null_model.json` -> `results/random_ticket_null_model.json`

# Umsetzung

## Files Changed
1. **kenobase/prediction/ticket_backtester.py**: Added random ticket Monte-Carlo functions
2. **scripts/backtest_random_tickets.py**: New CLI script for null model backtest
3. **results/random_ticket_null_model.json**: Generated output with comparison data

## Key Results
Random baseline confirms weighted-frequency shows no consistent advantage:
- Typ-2/10: within noise (~0.01 difference)
- Typ-6/8: actually worse than random (-0.02 difference)
