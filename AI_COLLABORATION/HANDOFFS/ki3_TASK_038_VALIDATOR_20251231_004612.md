---
status: REJECTED
task: TASK_038
role: VALIDATOR
phase: VALIDATOR
validated_handoff: "ki0_TASK_038_PROXY_IMPL_20251231_003501.md"
summary:
  - ROI table in results/v1_v2_performance_synthesis.md:23-28 lists -43.5%/-32.4% but source results/backtest_v1_v2_comparison.json averages are V1 -48.33%, V2 -35.43% (N=2237) via python repro below.
  - Repro command at results/v1_v2_performance_synthesis.md:93-97 fails in PowerShell with SyntaxError: unterminated string literal when executed verbatim.
  - Top-5 ROI table matches best_by_roi in results/backtest_v1_v2_comparison.json (53.24%, 28.79%, 20.65%, -0.18%, -4.92%); CURRENT_STATUS not changed; validator handoff saved to AI_COLLABORATION/HANDOFFS/ki3_TASK_038_VALIDATOR_20251231_004612.md.
---
# Rule Confirmation
- Rule 1 (SYSTEM_STATUS + ADR/Docs + git status): CONFIRMED
- Rule 2 (granularity stated): global (per-ticket-strategy)
- Rule 3 (semantics defined): ROI percent = (total_winnings - stake)/stake*100 using roi_percent fields, stake=1 EUR per draw
- Rule 4 (target metric): bet-selection
- Rule 5 (helper-only boundaries): CONFIRMED
- Rule 6 (reproducibility): "@'import json, statistics; from pathlib import Path; j=json.loads(Path('results/backtest_v1_v2_comparison.json').read_text());\nfor lbl in ('v1_results','v2_results'):\n    vals=list(j[lbl].values()); print(lbl, 'count', len(vals), 'avg_roi', round(statistics.mean(e['roi_percent'] for e in vals),2))\nprint('draws_count', j['draws_count'])\nprint('top5_roi', [r['roi_percent'] for r in j['best_by_roi'][:5]])'@ | python - -> stdout"

## Task Setup
- Granularity: global (per-ticket-strategy)
- Semantics: ROI percent from roi_percent fields; stake 1 EUR per draw across 2237 draws
- Target metric: bet-selection

## Repro Commands
- "@'import json, statistics; from pathlib import Path; j=json.loads(Path('results/backtest_v1_v2_comparison.json').read_text());\nfor lbl in ('v1_results','v2_results'):\n    vals=list(j[lbl].values()); print(lbl, 'count', len(vals), 'avg_roi', round(statistics.mean(e['roi_percent'] for e in vals),2))\nprint('draws_count', j['draws_count'])\nprint('top5_roi', [r['roi_percent'] for r in j['best_by_roi'][:5]])'@ | python - -> stdout (v1 avg -48.33%, v2 avg -35.43%, draws_count 2237, top5 [53.24, 28.79, 20.65, -0.18, -4.92])"
- "cat results/backtest_v1_v2_comparison.json | python -c \"import json,sys; d=json.load(sys.stdin); print(f'N={d[\\\"draws_count\\\"]}')\" -> SyntaxError: unterminated string literal"

# Validation
- ROI table in results/v1_v2_performance_synthesis.md:23-28 reports -43.5%/-32.4%; source averages from results/backtest_v1_v2_comparison.json (v1 count 18, v2 count 30, N=2237, date_range 2018-01-01T00:00:00 to 2024-02-15T00:00:00 at lines 1-7) compute to V1 -48.33%, V2 -35.43% via repro command above → mismatch.
- Report repro command at results/v1_v2_performance_synthesis.md:93-97 fails under PowerShell with SyntaxError: unterminated string literal when run verbatim, so report’s reproducibility section is broken.
- Top-5 ROI values in results/v1_v2_performance_synthesis.md:33-40 match best_by_roi from results/backtest_v1_v2_comparison.json (53.24%, 28.79%, 20.65%, -0.18%, -4.92), but mismatch on averages keeps validation rejected.
- CURRENT_STATUS not modified; recorded validation in AI_COLLABORATION/HANDOFFS/ki3_TASK_038_VALIDATOR_20251231_004612.md (status REJECTED).