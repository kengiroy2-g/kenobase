---
status: COMPLETE
task: HYP014-001
role: EXECUTOR
phase: EXECUTOR
files_changed:
  - kenobase/analysis/multiweek_timing.py
  - kenobase/analysis/__init__.py
  - scripts/analyze_hyp014.py
  - tests/unit/test_multiweek_timing.py
summary:
  - Created kenobase/analysis/multiweek_timing.py (540 lines) - Monte-Carlo simulation module
  - Chi-Square uniformity test + Monte-Carlo z-score comparison
  - Dataclasses: SimulationConfig, PositionDistribution, ChiSquareResult, MonteCarloComparison, MultiweekTimingResult
  - JSON export with numpy type conversion for serialization
  - Script scripts/analyze_hyp014.py with CLI arguments (--n-simulations, --seed, --alpha)
  - 21 unit tests - ALL PASSING (pytest tests/unit/test_multiweek_timing.py)
  - Module integrated into kenobase/analysis/__init__.py with aliased exports
---
# Rule Confirmation
- Rule 1 (SYSTEM_STATUS + ADR/Docs + git status): CONFIRMED
- Rule 2 (granularity stated): global (alle KENO-Jackpots)
- Rule 3 (semantics defined): abo_length, jackpot_position, position_ratio
- Rule 4 (target metric): Chi-Quadrat p-value + MC z-score
- Rule 5 (helper-only boundaries): CONFIRMED
- Rule 6 (reproducibility): `python -m pytest tests/unit/test_multiweek_timing.py -v` -> 21 passed

## Task Setup
- Granularity: global (alle KENO-Ziehungen)
- Semantics: abo_length (7/14/28), jackpot_position (0-indexed), position_ratio (0.0-1.0)
- Target metric: Chi-Quadrat Uniformitaetstest p-value > 0.05

## Repro Commands
- `python -m pytest tests/unit/test_multiweek_timing.py -v` -> 21 passed in 0.90s
- `python scripts/analyze_hyp014.py --help` -> CLI options
- `python scripts/analyze_hyp014.py --output results/hyp014_multiweek_timing.json` -> Full analysis

# Umsetzung

## Files Created/Modified

1. **kenobase/analysis/multiweek_timing.py** (NEW, 540 lines)
   - SimulationConfig dataclass
   - PositionDistribution dataclass
   - ChiSquareResult dataclass
   - MonteCarloComparison dataclass
   - MultiweekTimingResult dataclass
   - simulate_random_abo_starts() - MC simulation
   - calculate_position_distribution() - position calculation
   - chi_square_uniformity_test() - Chi2 test
   - compare_to_monte_carlo() - MC comparison
   - analyze_multiweek_timing() - main analysis
   - to_dict(), export_result_to_json(), run_hyp014_analysis()

2. **scripts/analyze_hyp014.py** (NEW, 197 lines)
   - CLI with argparse
   - load_jackpot_dates() from DataLoader
   - print_summary() for console output

3. **tests/unit/test_multiweek_timing.py** (NEW, 345 lines)
   - 21 unit tests covering all functions
   - TestSimulationConfig (2 tests)
   - TestSimulateRandomAboStarts (4 tests)
   - TestCalculatePositionDistribution (3 tests)
   - TestChiSquareUniformityTest (3 tests)
   - TestCompareToMonteCarlo (2 tests)
   - TestAnalyzeMultiweekTiming (3 tests)
   - TestToDict (1 test)
   - TestExportResultToJson (1 test)
   - TestRunHyp014Analysis (2 tests)

4. **kenobase/analysis/__init__.py** (MODIFIED)
   - Added imports from multiweek_timing
   - Added 14 exports to __all__
