---
status: REJECTED
task: QUOTE-001
role: VALIDATOR
phase: VALIDATOR
validated_handoff: "ki3_QUOTE-001_VALIDATOR_20251228_181139.md"
summary:
  - CONFIRMED all previous validation findings via independent recalculation
  - Correct KENO formula: P(k) = C(n,k) * C(70-n,20-k) / C(70,20)
  - ROI errors in 7/9 KENO types (Types 3-9), errors range from -24% to +6%
  - Typ 8 documented 21.31% but correct is 43.25% (error -21.94%)
  - Typ 7 documented 25.66% but correct is 49.57% (error -23.91%)
  - All types should have ~47-51% ROI per German lottery regulation
  - AC2 (correct probabilities) FAILED, AC4 (correct ROI) FAILED
  - Document requires complete recalculation before approval
---
# Rule Confirmation
- Rule 1 (SYSTEM_STATUS + ADR/Docs + git status): CONFIRMED
- Rule 2 (granularity stated): per-keno-type
- Rule 3 (semantics defined): ROI = sum(P(k)*Quote_k), P(k) = C(n,k)*C(70-n,20-k)/C(70,20)
- Rule 4 (target metric): mathematical accuracy
- Rule 5 (helper-only boundaries): CONFIRMED
- Rule 6 (reproducibility): `python -c "from math import comb; p=lambda n,k:comb(n,k)*comb(70-n,20-k)/comb(70,20); print(f'{sum(p(8,k)*q for k,q in {8:10000,7:100,6:15,5:2,4:1}.items())*100:.2f}%')"` -> 43.25%

## Task Setup
- Granularity: per-keno-type (Types 2-10)
- Semantics: Hypergeometric probability P(k|n) = C(n,k) * C(70-n,20-k) / C(70,20)
- Target metric: Mathematical accuracy of documented probability and ROI values

## Repro Commands
- `python -c "from math import comb; p=lambda n,k:comb(n,k)*comb(70-n,20-k)/comb(70,20); print(round(1/p(8,8)))"` -> 74941 (doc: 230115) FAIL
- `python -c "from math import comb; p=lambda n,k:comb(n,k)*comb(70-n,20-k)/comb(70,20); roi=sum(p(8,k)*q for k,q in {8:10000,7:100,6:15,5:2,4:1}.items()); print(f'{roi*100:.2f}%')"` -> 43.25% (doc: 21.31%) FAIL

# Validation

**Result: REJECTED**

The document `docs/keno_quotes.md` contains systematic calculation errors:

1. **Probability formula error** (Section 2, Line 34-35): Uses wrong formula
2. **7/9 KENO types have incorrect ROI** (errors up to 24 percentage points)
3. **Odds errors** for Typ 8/8 and Typ 7/7

The document's core claims are mathematically wrong:
- "Typ 9 best at 56%" → Correct: 50.05%
- "Typ 8 worst at 21%" → Correct: 43.25%

All types should cluster around ~47-51% ROI per German lottery regulation.

**Handoff:** `AI_COLLABORATION/HANDOFFS/ki3_QUOTE-001_VALIDATOR_20251228_181439.md`
