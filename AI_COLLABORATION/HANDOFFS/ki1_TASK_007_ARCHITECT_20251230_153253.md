---
status: COMPLETE
task: TASK_007
role: ARCHITECT
phase: ARCHITECT
files_changed: []
summary:
  - Analyse: frequency.py existiert bereits mit calculate_frequency() (Zeilen 71-138)
  - Anforderung: Neue Funktion calculate_frequency_per_year() fehlt noch
  - DrawResult hat date Attribut (datetime), Jahr via draw.date.year extrahierbar
  - Datensatz hat Datum im Format DD.MM.YYYY (Spalte Datum)
  - KENO-Daten ab 2022 und ab 2018 verfuegbar
  - Neuer Script: scripts/analyze_frequency_per_year.py zur Ausgabe
  - Unit-Test: tests/unit/test_frequency_per_year.py
---

# Rule Confirmation
- Rule 1 (SYSTEM_STATUS + ADR/Docs + git status): CONFIRMED
- Rule 2 (granularity stated): per-year
- Rule 3 (semantics defined): year (int from draw.date.year), number (1-70 for KENO)
- Rule 4 (target metric): frequency distribution stability over time
- Rule 5 (helper-only boundaries): CONFIRMED
- Rule 6 (reproducibility): python scripts/analyze_frequency_per_year.py -> results/frequency_per_year.json (pending implementation)

## Task Setup
- Granularity: per-year
- Semantics: {year: int, number: int, count: int, relative_freq: float}
- Target metric: year-over-year frequency consistency (Axiom A5 validation)

## Repro Commands
- `python scripts/analyze_frequency_per_year.py --input data/raw/keno/KENO_ab_2018.csv` -> results/frequency_per_year.json (pending)

## Implementierungsplan

**Betroffene Dateien:**
| Datei | Aktion |
|-------|--------|
| kenobase/analysis/frequency.py | MODIFY - neue Funktion |
| scripts/analyze_frequency_per_year.py | CREATE |
| tests/unit/test_frequency_per_year.py | CREATE |
| results/frequency_per_year.json | CREATE (Output) |

**Acceptance Criteria:**
- AC1: calculate_frequency_per_year() existiert und Tests bestehen
- AC2: Output enthaelt alle Jahre (2018-2025)
- AC3: Summe korrekt: sum(counts) == year_draws * 20
- AC4: CLI lauffaehig
- AC5: JSON Artefakt erstellt

**Handoff erstellt:** `AI_COLLABORATION/HANDOFFS/ki1_TASK_007_ARCHITECT_20251230_153253.md`

NEXT_PHASE: EXECUTOR
