---
status: REJECTED
task: TASK_013
role: PROXY
phase: PROXY_PLAN
reviewed_handoff: "ki1_TASK_013_ARCHITECT_20251230_165658.md"
summary:
  - CRITICAL: Plan confuses HYP_003 (task-local ID) with project-wide HYP-003 (Regional Distribution)
  - Project-wide HYP-003 = "Regionale Gewinnverteilung" (WON'T FIX - no data)
  - Weekday effect is actually covered by HYP-011 (Temporal Cycles)
  - temporal_cycles.py:96-212 already implements weekday Chi-square analysis
  - Proposed script name "analyze_hyp003_weekday.py" conflicts with existing analyze_hyp003.py (cluster resets)
  - ARCHITECT failed to verify existing code - weekday analysis already exists and works
  - Output results/hyp003_weekday_effect.json would create confusion with HYP-003 (regional)
  - RECOMMENDATION: Rename to analyze_weekday_roi.py or reuse temporal_cycles.py directly
---
# Rule Confirmation
- Rule 1 (SYSTEM_STATUS + ADR/Docs + git status): CONFIRMED (via grep, file reads)
- Rule 2 (granularity stated): global (weekday=0-6)
- Rule 3 (semantics defined): weekday=0-6, ROI per weekday
- Rule 4 (target metric): Chi-square p-value + ROI stratification
- Rule 5 (helper-only boundaries): UNVERIFIED (plan references wrong files)
- Rule 6 (reproducibility): `python scripts/analyze_hyp003_weekday.py` -> CONFLICTS with existing code

## Task Setup
- Granularity: global
- Semantics: weekday=0-6, ROI per weekday
- Target metric: Chi-square p-value + ROI stratification

## Repro Commands
- Existing: `kenobase/analysis/temporal_cycles.py` contains `analyze_dimension()` for weekday Chi-square
- Proposed: UNVERIFIED due to naming conflicts

# Proxy Review

## RED FLAGS IDENTIFIED

### 1. NAMING COLLISION (CRITICAL)
The plan calls the task "HYP_003: Wochentag-Effekt" but:
- **Project-wide HYP-003** = "Regionale Gewinnverteilung" (Regional Winner Distribution)
- **HYP-003 Status**: WON'T FIX - marked in KENOBASE_ISSUES.md:711-741
- **Weekday effect** is actually **HYP-011** (Temporal Cycles)

Creating `results/hyp003_weekday_effect.json` would create permanent confusion in the results directory.

### 2. CODE ALREADY EXISTS
`kenobase/analysis/temporal_cycles.py:96-212` already implements:
- `analyze_dimension()` for weekday Chi-square test
- `WEEKDAYS_DE` labels (Montag-Sonntag)
- Significance testing with p-value

The ARCHITECT failed to read this existing code.

### 3. FILE NAME CONFLICT
Proposed: `scripts/analyze_hyp003_weekday.py`
Existing: `scripts/analyze_hyp003.py` (Anti-Cluster Reset analysis)

These would conflict and create confusion.

## CORRECTIVE ACTIONS REQUIRED

1. **Rename task output**: Use `results/weekday_roi_effect.json` or `results/hyp011_weekday_roi.json`
2. **Reuse existing code**: Import from `kenobase.analysis.temporal_cycles` instead of reimplementing
3. **Rename script**: Use `scripts/analyze_weekday_roi.py` to avoid collision
4. **Add ROI stratification**: The only new feature needed is ROI-by-weekday, not Chi-square (already done)

## RECOMMENDATION

Send back to ARCHITECT with clear requirements:
1. Script name: `scripts/analyze_weekday_roi.py` (NOT hyp003)
2. Output: `results/weekday_roi_analysis.json` (NOT hyp003)
3. Reuse `temporal_cycles.analyze_dimension()` for Chi-square
4. Only implement NEW: ROI stratification by weekday
5. Reference as "Weekday-ROI Analysis" not "HYP-003"

## Files Referenced
- `kenobase/analysis/temporal_cycles.py` - existing weekday analysis (lines 96-212)
- `scripts/analyze_hyp003.py` - existing cluster reset script (unrelated)
- `AI_COLLABORATION/BACKLOG/KENOBASE_ISSUES.md:711-741` - HYP-003 WON'T FIX documentation

---

**Handoff erstellt:** `AI_COLLABORATION/HANDOFFS/ki0_TASK_013_PROXY_PLAN_20251230_165958.md`
