---
status: COMPLETE
task: DATA-001
role: EXECUTOR
phase: EXECUTOR
files_changed:
  - kenobase/core/timeline.py (NEW - 378 lines)
  - tests/unit/test_timeline.py (NEW - 401 lines)
  - scripts/build_timeline_grid.py (NEW - 125 lines)
  - kenobase/core/data_loader.py (MODIFIED - added Lotto bereinigt + EJ E-format parsers)
  - data/processed/timeline_grid.parquet (NEW OUTPUT - 115KB)
  - results/timeline_grid_summary.json (NEW OUTPUT)
summary:
  - Implemented TimelineGrid class for daily grid alignment of multi-game data
  - Supports KENO (daily), Lotto (Wed+Sat), EuroJackpot (Tue+Fri) draw schedules
  - Added NaN and forward-fill strategies for non-draw days
  - Created to_dataframe() and to_numbers_matrix() export methods
  - Added parquet export with tuple/matrix modes
  - Fixed data_loader for LOTTO_ab_2022_bereinigt.csv (L1-L6 format)
  - Fixed data_loader for EJ_ab_2022_bereinigt.csv (E1-E5/Euro1-2 format)
  - 24 tests passing, 63 total with data_loader tests
---
# Rule Confirmation
- Rule 1 (SYSTEM_STATUS + ADR/Docs + git status): CONFIRMED
- Rule 2 (granularity stated): per-game (daily grid with game-specific draw masks)
- Rule 3 (semantics defined): date=index, {game}_has_draw=bool, {game}_zN=int
- Rule 4 (target metric): alignment coverage / enable COUPLE-001/002 downstream
- Rule 5 (helper-only boundaries): CONFIRMED (new core module)
- Rule 6 (reproducibility): `python scripts/build_timeline_grid.py --use-defaults`

## Repro Commands
```bash
python scripts/build_timeline_grid.py --use-defaults --output data/processed/timeline_grid.parquet
python -m pytest tests/unit/test_timeline.py -v  # 24 passed
```
