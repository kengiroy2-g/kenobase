---
status: COMPLETE
task: TASK_033
role: EXECUTOR
phase: EXECUTOR
files_changed:
  - scripts/analyze_loss_streaks.py
  - tests/unit/test_loss_streaks.py
  - results/loss_streak_analysis.json
summary:
  - Created scripts/analyze_loss_streaks.py with loss streak, drawdown, recovery metrics
  - Implemented is_payout() for KENO payout rules (Typ-2 to Typ-10)
  - Created tests/unit/test_loss_streaks.py with 21 passing unit tests
  - Null model comparison using 100 random ticket seeds
  - Output saved to results/loss_streak_analysis.json (N=1457 draws)
  - All keno types within null model 95th percentile (no anomalies detected)
  - Axiom notes: A1 (house edge) and A7 (reset cycles) integrated
---

# Rule Confirmation
- Rule 1 (SYSTEM_STATUS + ADR/Docs + git status): CONFIRMED
- Rule 2 (granularity stated): per-ticket-type (Typ-2, Typ-6, Typ-8, Typ-10)
- Rule 3 (semantics defined): loss_streak, max_loss_streak, drawdown_pct, win_rate
- Rule 4 (target metric): max_drawdown_pct, bankroll_survival_rate
- Rule 5 (helper-only boundaries): CONFIRMED
- Rule 6 (reproducibility): `python scripts/analyze_loss_streaks.py --data data/raw/keno/KENO_ab_2022_bereinigt.csv --types 2,6,8,10 --output results/loss_streak_analysis.json`

## Repro Commands
- `python scripts/analyze_loss_streaks.py --data data/raw/keno/KENO_ab_2022_bereinigt.csv --types 2,6,8,10 --output results/loss_streak_analysis.json`
- Output: `results/loss_streak_analysis.json`

## Results Summary (N=1457 draws, 2022-2025)

| Typ | Ticket | max_loss_streak | win_rate | null_95th_pct | Status |
|-----|--------|-----------------|----------|---------------|--------|
| 2 | [9, 50] | 59 | 9.68% | 86.2 | OK |
| 6 | [3, 24, 40, 49, 51, 64] | 23 | 35.35% | 23.0 | OK |
| 8 | [2, 3, 20, 24, 36, 49, 51, 64] | 8 | 49.07% | 14.0 | OK |
| 10 | [2, 3, 9, 24, 33, 36, 49, 50, 51, 64] | 10 | 64.38% | 10.0 | OK |

**Fazit:** All observed max_loss_streak values within null model 95th percentile. No statistically significant deviations from random tickets.
