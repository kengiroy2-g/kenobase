---
status: COMPLETE
task: TASK_039c
role: EXECUTOR
phase: EXECUTOR
files_changed:
  - scripts/compare_v1_v2_cycles.py
  - results/v1_v2_cycle_comparison.json
summary:
  - Created scripts/compare_v1_v2_cycles.py (280 lines) based on template compare_v1_v2_phases.py
  - Implemented 28-day non-overlapping cycle segmentation (stride=28)
  - Per-cycle metrics: cycle_idx, start/end dates, v1/v2 ROI, delta, winner
  - Generated results/v1_v2_cycle_comparison.json with 68 cycles analyzed
  - V2 wins overall (106 cycles vs 83 for V1, 15 ties)
  - V2 shows +2-4% ROI improvement per type across cycles
  - Both models still negative ROI overall (~-50 to -60%)
---

# Rule Confirmation
- Rule 1 (SYSTEM_STATUS + ADR/Docs + git status): CONFIRMED
- Rule 2 (granularity stated): per-28-day-cycle
- Rule 3 (semantics defined): cycle_idx, cycle_start_date, cycle_end_date, v1_roi, v2_roi, delta, winner
- Rule 4 (target metric): ROI per cycle (V1 vs V2 delta)
- Rule 5 (helper-only boundaries): CONFIRMED
- Rule 6 (reproducibility): `python scripts/compare_v1_v2_cycles.py` -> `results/v1_v2_cycle_comparison.json`

## Task Setup
- Granularity: per-28-day-cycle (non-overlapping, stride=28)
- Semantics: cycle_idx (0-indexed), cycle_start_date, cycle_end_date, num_draws, v1/v2 ROI, delta, winner
- Target metric: Per-cycle ROI delta (positive = V2 better)

## Repro Commands
- `python scripts/compare_v1_v2_cycles.py` -> `results/v1_v2_cycle_comparison.json`
