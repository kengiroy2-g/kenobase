---
status: COMPLETE
task: TASK-H01
role: ARCHITECT
phase: ARCHITECT
files_changed: []
summary:
  - Analysiert: 7-Tage Wiederholungs-Zyklus erweitert bestehendes recurrence.py
  - Bestehend: analyze_recurrence() unterstuetzt window=1 (Tag-zu-Tag)
  - Erweiterung: Neuer Parameter window=7 fuer Wochen-Zyklen
  - Neue Funktion: analyze_weekly_cycle() fuer Wochentagsverteilung
  - Tests: Erweiterung test_recurrence.py mit 7-Tage Szenarien
  - Keine neuen Dateien noetig - Erweiterung bestehender Module
  - HYP-006 Acceptance Criteria bleiben gueltig
---

# Rule Confirmation
- Rule 1 (SYSTEM_STATUS + ADR/Docs + git status): CONFIRMED
- Rule 2 (granularity stated): per-draw (Ziehungsebene)
- Rule 3 (semantics defined): window=7 bedeutet 7-Tage-Lookback fuer Wiederholungen
- Rule 4 (target metric): pattern-predictability (recurrence_rate ueber 7-Tage-Fenster)
- Rule 5 (helper-only boundaries): CONFIRMED (keine neuen Dateien)
- Rule 6 (reproducibility): pytest tests/unit/test_recurrence.py -v -> PASS

## Task Setup
- Granularity: per-draw
- Semantics: window=7 (14 KENO-Ziehungen), recurrence_rate, weekly_cycle
- Target metric: pattern-predictability

## Repro Commands
- `pytest tests/unit/test_recurrence.py -v` -> PASS
- `python -c "from kenobase.analysis.recurrence import analyze_recurrence; print('OK')"`

# Implementierungsplan

**Handoff erstellt:** `AI_COLLABORATION/HANDOFFS/ki1_TASK-H01_ARCHITECT_20251227_214746.md`

**WORKING_SET_REQUEST fuer EXECUTOR:**
- kenobase/analysis/recurrence.py
- tests/unit/test_recurrence.py
- kenobase/core/data_loader.py
- config/default.yaml

**Kern-Aenderungen:**
1. Neue Funktion `analyze_weekly_cycle(draws)` - Wochentagsverteilung
2. Neue Funktion `analyze_recurrence_days(draws, days=7)` - Tagesbasierte Analyse
3. Report-Erweiterung mit `weekly_cycle` Section
4. Neue Tests fuer 7-Tage-Szenarien

**Acceptance Criteria:**
- AC1: 7-Tage-Wiederholungsrate berechenbar
- AC2: Wochentag-Verteilung sichtbar
- AC3: Report enthaelt 7-Tage-Metriken
- AC4: Alle Tests PASS
