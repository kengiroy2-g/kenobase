{
  "analysis": "position_rule_layer_nextday_backtest",
  "generated_at": "2025-12-30T13:58:34.116707",
  "draws": {
    "count": 2237,
    "start_date": "2018-01-01",
    "end_date": "2024-02-15"
  },
  "config": {
    "keno_types": [
      6,
      7,
      8,
      9,
      10
    ],
    "start_index": 365,
    "recent_draws": 365,
    "recent_weight": 0.6,
    "rule_window": 2000,
    "rule_min_support": 20,
    "exclude_max": 3,
    "include_max": 5,
    "exclude_lb": 0.78,
    "include_lb": 0.33,
    "hard_exclude": true,
    "hard_exclude_lb": 0.95,
    "exclude_weight": 1.5,
    "include_weight": 1.0,
    "z": 1.959963984540054
  },
  "rule_accuracy": {
    "exclusion": {
      "trials": 3034,
      "correct": 2177,
      "accuracy": 0.7175346077785102,
      "baseline": 0.7142857142857143,
      "lift": 0.00324889349279589
    },
    "inclusion": {
      "trials": 8984,
      "correct": 2616,
      "accuracy": 0.29118432769367764,
      "baseline": 0.2857142857142857,
      "lift": 0.0054700419793919375
    }
  },
  "by_type": {
    "typ_6": {
      "baseline": {
        "model": "weighted_frequency_nextday",
        "keno_type": 6,
        "n_predictions": 1871,
        "start_index": 365,
        "recent_draws": 365,
        "recent_weight": 0.6,
        "mean_hits": 1.711918760021379,
        "expected_mean_hits": 1.7142857142857144,
        "mean_hits_z": -0.09606910246218299,
        "mean_hits_p_value": 0.9234656904393187,
        "near_miss_hits": 5,
        "near_miss_count": 9,
        "expected_near_miss_count": 11.061955565524677,
        "near_miss_p_value": 0.6509637382976111,
        "jackpot_hits": 6,
        "jackpot_count": 0,
        "expected_jackpot_count": 0.5530977782762339,
        "jackpot_p_value": 1.0,
        "last_ticket": [
          3,
          50,
          49,
          39,
          25,
          47
        ],
        "hit_distribution": {
          "keno_type": 6,
          "observed_counts": {
            "0": 222,
            "1": 609,
            "2": 624,
            "3": 327,
            "4": 80,
            "5": 9,
            "6": 0
          },
          "expected_counts": {
            "0": 226.7572462655869,
            "1": 604.6859900415651,
            "2": 624.404011455964,
            "3": 318.84460159453477,
            "4": 84.69309729854831,
            "5": 11.061955565524677,
            "6": 0.5530977782762339
          },
          "chi2_statistic": 1.1882625864664806,
          "chi2_p_value": 0.9459984429855441,
          "bins_used": 6,
          "note": "chi-square vs exact hypergeometric null (merged bins)"
        }
      },
      "with_rules": {
        "model": "weighted_frequency_nextday+position_rules",
        "keno_type": 6,
        "n_predictions": 1871,
        "start_index": 365,
        "recent_draws": 365,
        "recent_weight": 0.6,
        "mean_hits": 1.735435595938001,
        "expected_mean_hits": 1.7142857142857144,
        "mean_hits_z": 0.8584239155491487,
        "mean_hits_p_value": 0.39065842647382365,
        "near_miss_hits": 5,
        "near_miss_count": 7,
        "expected_near_miss_count": 11.061955565524677,
        "near_miss_p_value": 0.2883323978208661,
        "jackpot_hits": 6,
        "jackpot_count": 3,
        "expected_jackpot_count": 0.5530977782762339,
        "jackpot_p_value": 0.018716745128065683,
        "last_ticket": [
          39,
          66,
          6,
          42,
          64,
          33
        ],
        "hit_distribution": {
          "keno_type": 6,
          "observed_counts": {
            "0": 211,
            "1": 600,
            "2": 637,
            "3": 332,
            "4": 81,
            "5": 7,
            "6": 3
          },
          "expected_counts": {
            "0": 226.7572462655869,
            "1": 604.6859900415651,
            "2": 624.404011455964,
            "3": 318.84460159453477,
            "4": 84.69309729854831,
            "5": 11.061955565524677,
            "6": 0.5530977782762339
          },
          "chi2_statistic": 2.3137702346981923,
          "chi2_p_value": 0.8042422920580548,
          "bins_used": 6,
          "note": "chi-square vs exact hypergeometric null (merged bins)"
        }
      },
      "delta": {
        "mean_hits": 0.023516835916622014,
        "near_miss_count": -2,
        "jackpot_count": 3
      }
    },
    "typ_7": {
      "baseline": {
        "model": "weighted_frequency_nextday",
        "keno_type": 7,
        "n_predictions": 1871,
        "start_index": 365,
        "recent_draws": 365,
        "recent_weight": 0.6,
        "mean_hits": 1.9994655264564405,
        "expected_mean_hits": 2.0,
        "mean_hits_z": -0.020242604824039508,
        "mean_hits_p_value": 0.9838498411043917,
        "near_miss_hits": 6,
        "near_miss_count": 2,
        "expected_near_miss_count": 3.0247534749481537,
        "near_miss_p_value": 0.7758011839518666,
        "jackpot_hits": 7,
        "jackpot_count": 0,
        "expected_jackpot_count": 0.12099013899792614,
        "jackpot_p_value": 1.0,
        "last_ticket": [
          3,
          50,
          49,
          39,
          25,
          47,
          64
        ],
        "hit_distribution": {
          "keno_type": 7,
          "observed_counts": {
            "0": 151,
            "1": 503,
            "2": 615,
            "3": 427,
            "4": 150,
            "5": 23,
            "6": 2,
            "7": 0
          },
          "expected_counts": {
            "0": 155.895606807591,
            "1": 496.0314762059714,
            "2": 628.3065365275637,
            "3": 409.7651325179764,
            "4": 148.21292027245954,
            "5": 29.642584054491905,
            "6": 3.0247534749481537,
            "7": 0.12099013899792614
          },
          "chi2_statistic": 3.1298877769973092,
          "chi2_p_value": 0.6799688787110258,
          "bins_used": 6,
          "note": "chi-square vs exact hypergeometric null (merged bins)"
        }
      },
      "with_rules": {
        "model": "weighted_frequency_nextday+position_rules",
        "keno_type": 7,
        "n_predictions": 1871,
        "start_index": 365,
        "recent_draws": 365,
        "recent_weight": 0.6,
        "mean_hits": 2.014430785676109,
        "expected_mean_hits": 2.0,
        "mean_hits_z": 0.5465503302491508,
        "mean_hits_p_value": 0.584687700992536,
        "near_miss_hits": 6,
        "near_miss_count": 6,
        "expected_near_miss_count": 3.0247534749481537,
        "near_miss_p_value": 0.13472139219718088,
        "jackpot_hits": 7,
        "jackpot_count": 0,
        "expected_jackpot_count": 0.12099013899792614,
        "jackpot_p_value": 1.0,
        "last_ticket": [
          39,
          66,
          6,
          42,
          64,
          33,
          57
        ],
        "hit_distribution": {
          "keno_type": 7,
          "observed_counts": {
            "0": 148,
            "1": 489,
            "2": 639,
            "3": 408,
            "4": 163,
            "5": 18,
            "6": 6,
            "7": 0
          },
          "expected_counts": {
            "0": 155.895606807591,
            "1": 496.0314762059714,
            "2": 628.3065365275637,
            "3": 409.7651325179764,
            "4": 148.21292027245954,
            "5": 29.642584054491905,
            "6": 3.0247534749481537,
            "7": 0.12099013899792614
          },
          "chi2_statistic": 4.520011782200159,
          "chi2_p_value": 0.4772104035452396,
          "bins_used": 6,
          "note": "chi-square vs exact hypergeometric null (merged bins)"
        }
      },
      "delta": {
        "mean_hits": 0.014965259219668514,
        "near_miss_count": 4,
        "jackpot_count": 0
      }
    },
    "typ_8": {
      "baseline": {
        "model": "weighted_frequency_nextday",
        "keno_type": 8,
        "n_predictions": 1871,
        "start_index": 365,
        "recent_draws": 365,
        "recent_weight": 0.6,
        "mean_hits": 2.297167290219134,
        "expected_mean_hits": 2.2857142857142856,
        "mean_hits_z": 0.4090139047384684,
        "mean_hits_p_value": 0.6825294569933333,
        "near_miss_hits": 7,
        "near_miss_count": 1,
        "expected_near_miss_count": 0.7681913587169915,
        "near_miss_p_value": 0.5362219135475866,
        "jackpot_hits": 8,
        "jackpot_count": 0,
        "expected_jackpot_count": 0.02496621915830222,
        "jackpot_p_value": 1.0,
        "last_ticket": [
          3,
          50,
          49,
          39,
          25,
          47,
          64,
          6
        ],
        "hit_distribution": {
          "keno_type": 8,
          "observed_counts": {
            "0": 102,
            "1": 379,
            "2": 617,
            "3": 477,
            "4": 235,
            "5": 53,
            "6": 7,
            "7": 1,
            "8": 0
          },
          "expected_counts": {
            "0": 106.40493797978434,
            "1": 395.9253506224533,
            "2": 598.3871776452988,
            "3": 478.709742116239,
            "4": 221.1430873906539,
            "5": 60.22620252341213,
            "6": 9.410344144283146,
            "7": 0.7681913587169915,
            "8": 0.02496621915830222
          },
          "chi2_statistic": 3.7021212401697663,
          "chi2_p_value": 0.7169126293335524,
          "bins_used": 7,
          "note": "chi-square vs exact hypergeometric null (merged bins)"
        }
      },
      "with_rules": {
        "model": "weighted_frequency_nextday+position_rules",
        "keno_type": 8,
        "n_predictions": 1871,
        "start_index": 365,
        "recent_draws": 365,
        "recent_weight": 0.6,
        "mean_hits": 2.307856761090326,
        "expected_mean_hits": 2.2857142857142856,
        "mean_hits_z": 0.7907602158277097,
        "mean_hits_p_value": 0.4290839298716165,
        "near_miss_hits": 7,
        "near_miss_count": 3,
        "expected_near_miss_count": 0.7681913587169915,
        "near_miss_p_value": 0.042924129074139734,
        "jackpot_hits": 8,
        "jackpot_count": 0,
        "expected_jackpot_count": 0.02496621915830222,
        "jackpot_p_value": 1.0,
        "last_ticket": [
          39,
          66,
          6,
          42,
          64,
          33,
          57,
          26
        ],
        "hit_distribution": {
          "keno_type": 8,
          "observed_counts": {
            "0": 104,
            "1": 396,
            "2": 575,
            "3": 486,
            "4": 249,
            "5": 51,
            "6": 7,
            "7": 3,
            "8": 0
          },
          "expected_counts": {
            "0": 106.40493797978434,
            "1": 395.9253506224533,
            "2": 598.3871776452988,
            "3": 478.709742116239,
            "4": 221.1430873906539,
            "5": 60.22620252341213,
            "6": 9.410344144283146,
            "7": 0.7681913587169915,
            "8": 0.02496621915830222
          },
          "chi2_statistic": 6.005968458366241,
          "chi2_p_value": 0.42252182167489255,
          "bins_used": 7,
          "note": "chi-square vs exact hypergeometric null (merged bins)"
        }
      },
      "delta": {
        "mean_hits": 0.010689470871191986,
        "near_miss_count": 2,
        "jackpot_count": 0
      }
    },
    "typ_9": {
      "baseline": {
        "model": "weighted_frequency_nextday",
        "keno_type": 9,
        "n_predictions": 1871,
        "start_index": 365,
        "recent_draws": 365,
        "recent_weight": 0.6,
        "mean_hits": 2.582576162479957,
        "expected_mean_hits": 2.571428571428571,
        "mean_hits_z": 0.37840279465421295,
        "mean_hits_p_value": 0.7051313924388982,
        "near_miss_hits": 8,
        "near_miss_count": 0,
        "expected_near_miss_count": 0.18120642937477419,
        "near_miss_p_value": 1.0,
        "jackpot_hits": 9,
        "jackpot_count": 0,
        "expected_jackpot_count": 0.004832171449993978,
        "jackpot_p_value": 1.0,
        "last_ticket": [
          3,
          50,
          49,
          39,
          25,
          47,
          64,
          6,
          2
        ],
        "hit_distribution": {
          "keno_type": 9,
          "observed_counts": {
            "0": 66,
            "1": 288,
            "2": 564,
            "3": 541,
            "4": 291,
            "5": 98,
            "6": 22,
            "7": 1,
            "8": 0,
            "9": 0
          },
          "expected_counts": {
            "0": 72.08076443791843,
            "1": 308.91756187679323,
            "2": 545.9938302938672,
            "3": 521.1759289168731,
            "4": 295.3330263862281,
            "5": 102.72453091694891,
            "6": 21.85628317381892,
            "7": 2.732035396727365,
            "8": 0.18120642937477419,
            "9": 0.004832171449993978
          },
          "chi2_statistic": 3.685172490041253,
          "chi2_p_value": 0.719192249337613,
          "bins_used": 7,
          "note": "chi-square vs exact hypergeometric null (merged bins)"
        }
      },
      "with_rules": {
        "model": "weighted_frequency_nextday+position_rules",
        "keno_type": 9,
        "n_predictions": 1871,
        "start_index": 365,
        "recent_draws": 365,
        "recent_weight": 0.6,
        "mean_hits": 2.5980758952431855,
        "expected_mean_hits": 2.571428571428571,
        "mean_hits_z": 0.9045381872213787,
        "mean_hits_p_value": 0.3657100949457437,
        "near_miss_hits": 8,
        "near_miss_count": 1,
        "expected_near_miss_count": 0.18120642937477419,
        "near_miss_p_value": 0.16574419653296693,
        "jackpot_hits": 9,
        "jackpot_count": 0,
        "expected_jackpot_count": 0.004832171449993978,
        "jackpot_p_value": 1.0,
        "last_ticket": [
          39,
          66,
          6,
          42,
          64,
          33,
          57,
          26,
          32
        ],
        "hit_distribution": {
          "keno_type": 9,
          "observed_counts": {
            "0": 74,
            "1": 296,
            "2": 517,
            "3": 552,
            "4": 314,
            "5": 95,
            "6": 18,
            "7": 4,
            "8": 1,
            "9": 0
          },
          "expected_counts": {
            "0": 72.08076443791843,
            "1": 308.91756187679323,
            "2": 545.9938302938672,
            "3": 521.1759289168731,
            "4": 295.3330263862281,
            "5": 102.72453091694891,
            "6": 21.85628317381892,
            "7": 2.732035396727365,
            "8": 0.18120642937477419,
            "9": 0.004832171449993978
          },
          "chi2_statistic": 5.841763182752899,
          "chi2_p_value": 0.4411474736820239,
          "bins_used": 7,
          "note": "chi-square vs exact hypergeometric null (merged bins)"
        }
      },
      "delta": {
        "mean_hits": 0.015499732763228469,
        "near_miss_count": 1,
        "jackpot_count": 0
      }
    },
    "typ_10": {
      "baseline": {
        "model": "weighted_frequency_nextday",
        "keno_type": 10,
        "n_predictions": 1871,
        "start_index": 365,
        "recent_draws": 365,
        "recent_weight": 0.6,
        "mean_hits": 2.8754676643506145,
        "expected_mean_hits": 2.8571428571428568,
        "mean_hits_z": 0.5950086346044775,
        "mean_hits_p_value": 0.5518376992568252,
        "near_miss_hits": 9,
        "near_miss_count": 0,
        "expected_near_miss_count": 0.039607962704868674,
        "near_miss_p_value": 1.0,
        "jackpot_hits": 10,
        "jackpot_count": 0,
        "expected_jackpot_count": 0.0008713751795071109,
        "jackpot_p_value": 1.0,
        "last_ticket": [
          3,
          50,
          49,
          39,
          25,
          47,
          64,
          6,
          2,
          66
        ],
        "hit_distribution": {
          "keno_type": 10,
          "observed_counts": {
            "0": 42,
            "1": 223,
            "2": 476,
            "3": 564,
            "4": 369,
            "5": 148,
            "6": 46,
            "7": 3,
            "8": 0,
            "9": 0,
            "10": 0
          },
          "expected_counts": {
            "0": 48.44772691728943,
            "1": 236.3303752062899,
            "2": 481.10112095566154,
            "3": 537.0431117644595,
            "4": 363.1143767043788,
            "5": 154.92880072720163,
            "6": 42.10021758891349,
            "7": 7.1659944832193165,
            "8": 0.7277963147019618,
            "9": 0.039607962704868674,
            "10": 0.0008713751795071109
          },
          "chi2_statistic": 6.852303569398281,
          "chi2_p_value": 0.44441843035943907,
          "bins_used": 8,
          "note": "chi-square vs exact hypergeometric null (merged bins)"
        }
      },
      "with_rules": {
        "model": "weighted_frequency_nextday+position_rules",
        "keno_type": 10,
        "n_predictions": 1871,
        "start_index": 365,
        "recent_draws": 365,
        "recent_weight": 0.6,
        "mean_hits": 2.882950293960449,
        "expected_mean_hits": 2.8571428571428568,
        "mean_hits_z": 0.8379704937346412,
        "mean_hits_p_value": 0.40204727528507433,
        "near_miss_hits": 9,
        "near_miss_count": 1,
        "expected_near_miss_count": 0.039607962704868674,
        "near_miss_p_value": 0.03883422467522173,
        "jackpot_hits": 10,
        "jackpot_count": 0,
        "expected_jackpot_count": 0.0008713751795071109,
        "jackpot_p_value": 1.0,
        "last_ticket": [
          39,
          66,
          6,
          42,
          64,
          33,
          57,
          26,
          32,
          52
        ],
        "hit_distribution": {
          "keno_type": 10,
          "observed_counts": {
            "0": 42,
            "1": 244,
            "2": 441,
            "3": 562,
            "4": 388,
            "5": 145,
            "6": 40,
            "7": 8,
            "8": 0,
            "9": 1,
            "10": 0
          },
          "expected_counts": {
            "0": 48.44772691728943,
            "1": 236.3303752062899,
            "2": 481.10112095566154,
            "3": 537.0431117644595,
            "4": 363.1143767043788,
            "5": 154.92880072720163,
            "6": 42.10021758891349,
            "7": 7.1659944832193165,
            "8": 0.7277963147019618,
            "9": 0.039607962704868674,
            "10": 0.0008713751795071109
          },
          "chi2_statistic": 8.199043052294927,
          "chi2_p_value": 0.3153702836450089,
          "bins_used": 8,
          "note": "chi-square vs exact hypergeometric null (merged bins)"
        }
      },
      "delta": {
        "mean_hits": 0.007482629609834479,
        "near_miss_count": 1,
        "jackpot_count": 0
      }
    }
  },
  "top_rules": {
    "min_trials": 25,
    "top_exclusion": [
      {
        "trigger_number": 4,
        "trigger_position": 16,
        "kind": "exclude",
        "predicted_numbers": [
          35,
          15
        ],
        "trials": 32,
        "correct": 26,
        "accuracy": 0.8125
      },
      {
        "trigger_number": 56,
        "trigger_position": 14,
        "kind": "exclude",
        "predicted_numbers": [
          51,
          45
        ],
        "trials": 26,
        "correct": 21,
        "accuracy": 0.8076923076923077
      },
      {
        "trigger_number": 54,
        "trigger_position": 12,
        "kind": "exclude",
        "predicted_numbers": [
          7,
          56,
          29
        ],
        "trials": 26,
        "correct": 21,
        "accuracy": 0.8076923076923077
      }
    ],
    "top_inclusion": [
      {
        "trigger_number": 46,
        "trigger_position": 2,
        "kind": "include",
        "predicted_numbers": [
          38,
          33
        ],
        "trials": 29,
        "correct": 14,
        "accuracy": 0.4827586206896552
      },
      {
        "trigger_number": 34,
        "trigger_position": 19,
        "kind": "include",
        "predicted_numbers": [
          55,
          34
        ],
        "trials": 27,
        "correct": 13,
        "accuracy": 0.48148148148148145
      },
      {
        "trigger_number": 54,
        "trigger_position": 4,
        "kind": "include",
        "predicted_numbers": [
          23,
          58,
          27
        ],
        "trials": 33,
        "correct": 15,
        "accuracy": 0.45454545454545453
      },
      {
        "trigger_number": 39,
        "trigger_position": 16,
        "kind": "include",
        "predicted_numbers": [
          49,
          7,
          36,
          53
        ],
        "trials": 27,
        "correct": 11,
        "accuracy": 0.4074074074074074
      },
      {
        "trigger_number": 13,
        "trigger_position": 18,
        "kind": "include",
        "predicted_numbers": [
          42,
          5,
          21,
          31
        ],
        "trials": 27,
        "correct": 11,
        "accuracy": 0.4074074074074074
      },
      {
        "trigger_number": 68,
        "trigger_position": 14,
        "kind": "include",
        "predicted_numbers": [
          54,
          27,
          21
        ],
        "trials": 42,
        "correct": 17,
        "accuracy": 0.40476190476190477
      },
      {
        "trigger_number": 25,
        "trigger_position": 9,
        "kind": "include",
        "predicted_numbers": [
          13,
          46
        ],
        "trials": 25,
        "correct": 10,
        "accuracy": 0.4
      },
      {
        "trigger_number": 34,
        "trigger_position": 13,
        "kind": "include",
        "predicted_numbers": [
          67,
          64
        ],
        "trials": 25,
        "correct": 10,
        "accuracy": 0.4
      },
      {
        "trigger_number": 22,
        "trigger_position": 19,
        "kind": "include",
        "predicted_numbers": [
          12,
          3,
          29,
          49,
          53
        ],
        "trials": 28,
        "correct": 11,
        "accuracy": 0.39285714285714285
      },
      {
        "trigger_number": 49,
        "trigger_position": 16,
        "kind": "include",
        "predicted_numbers": [
          6,
          4,
          8
        ],
        "trials": 28,
        "correct": 11,
        "accuracy": 0.39285714285714285
      },
      {
        "trigger_number": 60,
        "trigger_position": 6,
        "kind": "include",
        "predicted_numbers": [
          35,
          34,
          33
        ],
        "trials": 26,
        "correct": 10,
        "accuracy": 0.38461538461538464
      },
      {
        "trigger_number": 47,
        "trigger_position": 10,
        "kind": "include",
        "predicted_numbers": [
          16,
          47,
          24
        ],
        "trials": 26,
        "correct": 10,
        "accuracy": 0.38461538461538464
      },
      {
        "trigger_number": 2,
        "trigger_position": 11,
        "kind": "include",
        "predicted_numbers": [
          32,
          22,
          64
        ],
        "trials": 34,
        "correct": 13,
        "accuracy": 0.38235294117647056
      },
      {
        "trigger_number": 15,
        "trigger_position": 12,
        "kind": "include",
        "predicted_numbers": [
          3,
          47,
          58
        ],
        "trials": 37,
        "correct": 14,
        "accuracy": 0.3783783783783784
      },
      {
        "trigger_number": 35,
        "trigger_position": 6,
        "kind": "include",
        "predicted_numbers": [
          49,
          68,
          36
        ],
        "trials": 27,
        "correct": 10,
        "accuracy": 0.37037037037037035
      },
      {
        "trigger_number": 56,
        "trigger_position": 14,
        "kind": "include",
        "predicted_numbers": [
          66,
          53,
          69
        ],
        "trials": 38,
        "correct": 14,
        "accuracy": 0.3684210526315789
      },
      {
        "trigger_number": 33,
        "trigger_position": 12,
        "kind": "include",
        "predicted_numbers": [
          48,
          31,
          10
        ],
        "trials": 36,
        "correct": 13,
        "accuracy": 0.3611111111111111
      },
      {
        "trigger_number": 32,
        "trigger_position": 11,
        "kind": "include",
        "predicted_numbers": [
          49,
          1
        ],
        "trials": 25,
        "correct": 9,
        "accuracy": 0.36
      },
      {
        "trigger_number": 59,
        "trigger_position": 3,
        "kind": "include",
        "predicted_numbers": [
          35,
          3
        ],
        "trials": 25,
        "correct": 9,
        "accuracy": 0.36
      },
      {
        "trigger_number": 24,
        "trigger_position": 6,
        "kind": "include",
        "predicted_numbers": [
          23,
          31,
          18
        ],
        "trials": 26,
        "correct": 9,
        "accuracy": 0.34615384615384615
      }
    ]
  }
}