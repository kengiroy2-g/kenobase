{
  "analysis": "position_rule_layer_nextday_backtest",
  "generated_at": "2025-12-29T19:25:47.128069",
  "draws": {
    "count": 2237,
    "start_date": "2018-01-01",
    "end_date": "2024-02-15"
  },
  "config": {
    "keno_types": [
      6,
      7,
      8,
      9,
      10
    ],
    "start_index": 365,
    "recent_draws": 365,
    "recent_weight": 0.6,
    "rule_window": 2000,
    "rule_min_support": 5,
    "exclude_max": 3,
    "include_max": 5,
    "exclude_lb": 0.85,
    "include_lb": 0.35,
    "hard_exclude": true,
    "hard_exclude_lb": 0.95,
    "exclude_weight": 2.0,
    "include_weight": 1.0,
    "z": 1.959963984540054
  },
  "rule_accuracy": {
    "exclusion": {
      "trials": 219,
      "correct": 159,
      "accuracy": 0.726027397260274,
      "baseline": 0.7142857142857143,
      "lift": 0.011741682974559686
    },
    "inclusion": {
      "trials": 20648,
      "correct": 5939,
      "accuracy": 0.2876307632700504,
      "baseline": 0.2857142857142857,
      "lift": 0.001916477555764684
    }
  },
  "by_type": {
    "typ_6": {
      "baseline": {
        "model": "weighted_frequency_nextday",
        "keno_type": 6,
        "n_predictions": 1871,
        "start_index": 365,
        "recent_draws": 365,
        "recent_weight": 0.6,
        "mean_hits": 1.711918760021379,
        "expected_mean_hits": 1.7142857142857144,
        "mean_hits_z": -0.09606910246218299,
        "mean_hits_p_value": 0.9234656904393187,
        "near_miss_hits": 5,
        "near_miss_count": 9,
        "expected_near_miss_count": 11.061955565524677,
        "near_miss_p_value": 0.6509637382976111,
        "jackpot_hits": 6,
        "jackpot_count": 0,
        "expected_jackpot_count": 0.5530977782762339,
        "jackpot_p_value": 1.0,
        "last_ticket": [
          3,
          50,
          49,
          39,
          25,
          47
        ],
        "hit_distribution": {
          "keno_type": 6,
          "observed_counts": {
            "0": 222,
            "1": 609,
            "2": 624,
            "3": 327,
            "4": 80,
            "5": 9,
            "6": 0
          },
          "expected_counts": {
            "0": 226.7572462655869,
            "1": 604.6859900415651,
            "2": 624.404011455964,
            "3": 318.84460159453477,
            "4": 84.69309729854831,
            "5": 11.061955565524677,
            "6": 0.5530977782762339
          },
          "chi2_statistic": 1.1882625864664806,
          "chi2_p_value": 0.9459984429855441,
          "bins_used": 6,
          "note": "chi-square vs exact hypergeometric null (merged bins)"
        }
      },
      "with_rules": {
        "model": "weighted_frequency_nextday+position_rules",
        "keno_type": 6,
        "n_predictions": 1871,
        "start_index": 365,
        "recent_draws": 365,
        "recent_weight": 0.6,
        "mean_hits": 1.7349011223944415,
        "expected_mean_hits": 1.7142857142857144,
        "mean_hits_z": 0.8367308924125307,
        "mean_hits_p_value": 0.4027438503968157,
        "near_miss_hits": 5,
        "near_miss_count": 9,
        "expected_near_miss_count": 11.061955565524677,
        "near_miss_p_value": 0.6509637382976111,
        "jackpot_hits": 6,
        "jackpot_count": 0,
        "expected_jackpot_count": 0.5530977782762339,
        "jackpot_p_value": 1.0,
        "last_ticket": [
          66,
          42,
          3,
          50,
          49,
          39
        ],
        "hit_distribution": {
          "keno_type": 6,
          "observed_counts": {
            "0": 221,
            "1": 598,
            "2": 609,
            "3": 351,
            "4": 83,
            "5": 9,
            "6": 0
          },
          "expected_counts": {
            "0": 226.7572462655869,
            "1": 604.6859900415651,
            "2": 624.404011455964,
            "3": 318.84460159453477,
            "4": 84.69309729854831,
            "5": 11.061955565524677,
            "6": 0.5530977782762339
          },
          "chi2_statistic": 4.465588978362792,
          "chi2_p_value": 0.4845006749670051,
          "bins_used": 6,
          "note": "chi-square vs exact hypergeometric null (merged bins)"
        }
      },
      "delta": {
        "mean_hits": 0.022982362373062504,
        "near_miss_count": 0,
        "jackpot_count": 0
      }
    },
    "typ_7": {
      "baseline": {
        "model": "weighted_frequency_nextday",
        "keno_type": 7,
        "n_predictions": 1871,
        "start_index": 365,
        "recent_draws": 365,
        "recent_weight": 0.6,
        "mean_hits": 1.9994655264564405,
        "expected_mean_hits": 2.0,
        "mean_hits_z": -0.020242604824039508,
        "mean_hits_p_value": 0.9838498411043917,
        "near_miss_hits": 6,
        "near_miss_count": 2,
        "expected_near_miss_count": 3.0247534749481537,
        "near_miss_p_value": 0.7758011839518666,
        "jackpot_hits": 7,
        "jackpot_count": 0,
        "expected_jackpot_count": 0.12099013899792614,
        "jackpot_p_value": 1.0,
        "last_ticket": [
          3,
          50,
          49,
          39,
          25,
          47,
          64
        ],
        "hit_distribution": {
          "keno_type": 7,
          "observed_counts": {
            "0": 151,
            "1": 503,
            "2": 615,
            "3": 427,
            "4": 150,
            "5": 23,
            "6": 2,
            "7": 0
          },
          "expected_counts": {
            "0": 155.895606807591,
            "1": 496.0314762059714,
            "2": 628.3065365275637,
            "3": 409.7651325179764,
            "4": 148.21292027245954,
            "5": 29.642584054491905,
            "6": 3.0247534749481537,
            "7": 0.12099013899792614
          },
          "chi2_statistic": 3.1298877769973092,
          "chi2_p_value": 0.6799688787110258,
          "bins_used": 6,
          "note": "chi-square vs exact hypergeometric null (merged bins)"
        }
      },
      "with_rules": {
        "model": "weighted_frequency_nextday+position_rules",
        "keno_type": 7,
        "n_predictions": 1871,
        "start_index": 365,
        "recent_draws": 365,
        "recent_weight": 0.6,
        "mean_hits": 2.018172100481026,
        "expected_mean_hits": 2.0,
        "mean_hits_z": 0.6882485640174442,
        "mean_hits_p_value": 0.491296266413785,
        "near_miss_hits": 6,
        "near_miss_count": 1,
        "expected_near_miss_count": 3.0247534749481537,
        "near_miss_p_value": 0.38402026525597743,
        "jackpot_hits": 7,
        "jackpot_count": 0,
        "expected_jackpot_count": 0.12099013899792614,
        "jackpot_p_value": 1.0,
        "last_ticket": [
          66,
          42,
          3,
          50,
          49,
          39,
          25
        ],
        "hit_distribution": {
          "keno_type": 7,
          "observed_counts": {
            "0": 156,
            "1": 494,
            "2": 610,
            "3": 413,
            "4": 168,
            "5": 29,
            "6": 1,
            "7": 0
          },
          "expected_counts": {
            "0": 155.895606807591,
            "1": 496.0314762059714,
            "2": 628.3065365275637,
            "3": 409.7651325179764,
            "4": 148.21292027245954,
            "5": 29.642584054491905,
            "6": 3.0247534749481537,
            "7": 0.12099013899792614
          },
          "chi2_statistic": 3.4460948657513297,
          "chi2_p_value": 0.6315593961996258,
          "bins_used": 6,
          "note": "chi-square vs exact hypergeometric null (merged bins)"
        }
      },
      "delta": {
        "mean_hits": 0.01870657402458553,
        "near_miss_count": -1,
        "jackpot_count": 0
      }
    },
    "typ_8": {
      "baseline": {
        "model": "weighted_frequency_nextday",
        "keno_type": 8,
        "n_predictions": 1871,
        "start_index": 365,
        "recent_draws": 365,
        "recent_weight": 0.6,
        "mean_hits": 2.297167290219134,
        "expected_mean_hits": 2.2857142857142856,
        "mean_hits_z": 0.4090139047384684,
        "mean_hits_p_value": 0.6825294569933333,
        "near_miss_hits": 7,
        "near_miss_count": 1,
        "expected_near_miss_count": 0.7681913587169915,
        "near_miss_p_value": 0.5362219135475866,
        "jackpot_hits": 8,
        "jackpot_count": 0,
        "expected_jackpot_count": 0.02496621915830222,
        "jackpot_p_value": 1.0,
        "last_ticket": [
          3,
          50,
          49,
          39,
          25,
          47,
          64,
          6
        ],
        "hit_distribution": {
          "keno_type": 8,
          "observed_counts": {
            "0": 102,
            "1": 379,
            "2": 617,
            "3": 477,
            "4": 235,
            "5": 53,
            "6": 7,
            "7": 1,
            "8": 0
          },
          "expected_counts": {
            "0": 106.40493797978434,
            "1": 395.9253506224533,
            "2": 598.3871776452988,
            "3": 478.709742116239,
            "4": 221.1430873906539,
            "5": 60.22620252341213,
            "6": 9.410344144283146,
            "7": 0.7681913587169915,
            "8": 0.02496621915830222
          },
          "chi2_statistic": 3.7021212401697663,
          "chi2_p_value": 0.7169126293335524,
          "bins_used": 7,
          "note": "chi-square vs exact hypergeometric null (merged bins)"
        }
      },
      "with_rules": {
        "model": "weighted_frequency_nextday+position_rules",
        "keno_type": 8,
        "n_predictions": 1871,
        "start_index": 365,
        "recent_draws": 365,
        "recent_weight": 0.6,
        "mean_hits": 2.31587386424372,
        "expected_mean_hits": 2.2857142857142856,
        "mean_hits_z": 1.0770699491446407,
        "mean_hits_p_value": 0.2814490170807472,
        "near_miss_hits": 7,
        "near_miss_count": 0,
        "expected_near_miss_count": 0.7681913587169915,
        "near_miss_p_value": 1.0,
        "jackpot_hits": 8,
        "jackpot_count": 0,
        "expected_jackpot_count": 0.02496621915830222,
        "jackpot_p_value": 1.0,
        "last_ticket": [
          66,
          42,
          3,
          50,
          49,
          39,
          25,
          47
        ],
        "hit_distribution": {
          "keno_type": 8,
          "observed_counts": {
            "0": 100,
            "1": 402,
            "2": 581,
            "3": 468,
            "4": 244,
            "5": 67,
            "6": 9,
            "7": 0,
            "8": 0
          },
          "expected_counts": {
            "0": 106.40493797978434,
            "1": 395.9253506224533,
            "2": 598.3871776452988,
            "3": 478.709742116239,
            "4": 221.1430873906539,
            "5": 60.22620252341213,
            "6": 9.410344144283146,
            "7": 0.7681913587169915,
            "8": 0.02496621915830222
          },
          "chi2_statistic": 4.489820458087948,
          "chi2_p_value": 0.6106975578097324,
          "bins_used": 7,
          "note": "chi-square vs exact hypergeometric null (merged bins)"
        }
      },
      "delta": {
        "mean_hits": 0.018706574024585976,
        "near_miss_count": -1,
        "jackpot_count": 0
      }
    },
    "typ_9": {
      "baseline": {
        "model": "weighted_frequency_nextday",
        "keno_type": 9,
        "n_predictions": 1871,
        "start_index": 365,
        "recent_draws": 365,
        "recent_weight": 0.6,
        "mean_hits": 2.582576162479957,
        "expected_mean_hits": 2.571428571428571,
        "mean_hits_z": 0.37840279465421295,
        "mean_hits_p_value": 0.7051313924388982,
        "near_miss_hits": 8,
        "near_miss_count": 0,
        "expected_near_miss_count": 0.18120642937477419,
        "near_miss_p_value": 1.0,
        "jackpot_hits": 9,
        "jackpot_count": 0,
        "expected_jackpot_count": 0.004832171449993978,
        "jackpot_p_value": 1.0,
        "last_ticket": [
          3,
          50,
          49,
          39,
          25,
          47,
          64,
          6,
          2
        ],
        "hit_distribution": {
          "keno_type": 9,
          "observed_counts": {
            "0": 66,
            "1": 288,
            "2": 564,
            "3": 541,
            "4": 291,
            "5": 98,
            "6": 22,
            "7": 1,
            "8": 0,
            "9": 0
          },
          "expected_counts": {
            "0": 72.08076443791843,
            "1": 308.91756187679323,
            "2": 545.9938302938672,
            "3": 521.1759289168731,
            "4": 295.3330263862281,
            "5": 102.72453091694891,
            "6": 21.85628317381892,
            "7": 2.732035396727365,
            "8": 0.18120642937477419,
            "9": 0.004832171449993978
          },
          "chi2_statistic": 3.685172490041253,
          "chi2_p_value": 0.719192249337613,
          "bins_used": 7,
          "note": "chi-square vs exact hypergeometric null (merged bins)"
        }
      },
      "with_rules": {
        "model": "weighted_frequency_nextday+position_rules",
        "keno_type": 9,
        "n_predictions": 1871,
        "start_index": 365,
        "recent_draws": 365,
        "recent_weight": 0.6,
        "mean_hits": 2.614644575093533,
        "expected_mean_hits": 2.571428571428571,
        "mean_hits_z": 1.4669587792759289,
        "mean_hits_p_value": 0.14238726903941473,
        "near_miss_hits": 8,
        "near_miss_count": 0,
        "expected_near_miss_count": 0.18120642937477419,
        "near_miss_p_value": 1.0,
        "jackpot_hits": 9,
        "jackpot_count": 0,
        "expected_jackpot_count": 0.004832171449993978,
        "jackpot_p_value": 1.0,
        "last_ticket": [
          66,
          42,
          3,
          50,
          49,
          39,
          25,
          47,
          64
        ],
        "hit_distribution": {
          "keno_type": 9,
          "observed_counts": {
            "0": 67,
            "1": 292,
            "2": 566,
            "3": 485,
            "4": 320,
            "5": 113,
            "6": 28,
            "7": 0,
            "8": 0,
            "9": 0
          },
          "expected_counts": {
            "0": 72.08076443791843,
            "1": 308.91756187679323,
            "2": 545.9938302938672,
            "3": 521.1759289168731,
            "4": 295.3330263862281,
            "5": 102.72453091694891,
            "6": 21.85628317381892,
            "7": 2.732035396727365,
            "8": 0.18120642937477419,
            "9": 0.004832171449993978
          },
          "chi2_statistic": 8.036790103050356,
          "chi2_p_value": 0.23542034471292422,
          "bins_used": 7,
          "note": "chi-square vs exact hypergeometric null (merged bins)"
        }
      },
      "delta": {
        "mean_hits": 0.03206841261357596,
        "near_miss_count": 0,
        "jackpot_count": 0
      }
    },
    "typ_10": {
      "baseline": {
        "model": "weighted_frequency_nextday",
        "keno_type": 10,
        "n_predictions": 1871,
        "start_index": 365,
        "recent_draws": 365,
        "recent_weight": 0.6,
        "mean_hits": 2.8754676643506145,
        "expected_mean_hits": 2.8571428571428568,
        "mean_hits_z": 0.5950086346044775,
        "mean_hits_p_value": 0.5518376992568252,
        "near_miss_hits": 9,
        "near_miss_count": 0,
        "expected_near_miss_count": 0.039607962704868674,
        "near_miss_p_value": 1.0,
        "jackpot_hits": 10,
        "jackpot_count": 0,
        "expected_jackpot_count": 0.0008713751795071109,
        "jackpot_p_value": 1.0,
        "last_ticket": [
          3,
          50,
          49,
          39,
          25,
          47,
          64,
          6,
          2,
          66
        ],
        "hit_distribution": {
          "keno_type": 10,
          "observed_counts": {
            "0": 42,
            "1": 223,
            "2": 476,
            "3": 564,
            "4": 369,
            "5": 148,
            "6": 46,
            "7": 3,
            "8": 0,
            "9": 0,
            "10": 0
          },
          "expected_counts": {
            "0": 48.44772691728943,
            "1": 236.3303752062899,
            "2": 481.10112095566154,
            "3": 537.0431117644595,
            "4": 363.1143767043788,
            "5": 154.92880072720163,
            "6": 42.10021758891349,
            "7": 7.1659944832193165,
            "8": 0.7277963147019618,
            "9": 0.039607962704868674,
            "10": 0.0008713751795071109
          },
          "chi2_statistic": 6.852303569398281,
          "chi2_p_value": 0.44441843035943907,
          "bins_used": 8,
          "note": "chi-square vs exact hypergeometric null (merged bins)"
        }
      },
      "with_rules": {
        "model": "weighted_frequency_nextday+position_rules",
        "keno_type": 10,
        "n_predictions": 1871,
        "start_index": 365,
        "recent_draws": 365,
        "recent_weight": 0.6,
        "mean_hits": 2.8834847675040085,
        "expected_mean_hits": 2.8571428571428568,
        "mean_hits_z": 0.8553249122439355,
        "mean_hits_p_value": 0.39237129969324624,
        "near_miss_hits": 9,
        "near_miss_count": 0,
        "expected_near_miss_count": 0.039607962704868674,
        "near_miss_p_value": 1.0,
        "jackpot_hits": 10,
        "jackpot_count": 0,
        "expected_jackpot_count": 0.0008713751795071109,
        "jackpot_p_value": 1.0,
        "last_ticket": [
          66,
          42,
          3,
          50,
          49,
          39,
          25,
          47,
          64,
          6
        ],
        "hit_distribution": {
          "keno_type": 10,
          "observed_counts": {
            "0": 48,
            "1": 226,
            "2": 481,
            "3": 532,
            "4": 372,
            "5": 158,
            "6": 45,
            "7": 9,
            "8": 0,
            "9": 0,
            "10": 0
          },
          "expected_counts": {
            "0": 48.44772691728943,
            "1": 236.3303752062899,
            "2": 481.10112095566154,
            "3": 537.0431117644595,
            "4": 363.1143767043788,
            "5": 154.92880072720163,
            "6": 42.10021758891349,
            "7": 7.1659944832193165,
            "8": 0.7277963147019618,
            "9": 0.039607962704868674,
            "10": 0.0008713751795071109
          },
          "chi2_statistic": 1.1242712501573369,
          "chi2_p_value": 0.9925673286439987,
          "bins_used": 8,
          "note": "chi-square vs exact hypergeometric null (merged bins)"
        }
      },
      "delta": {
        "mean_hits": 0.00801710315339399,
        "near_miss_count": 0,
        "jackpot_count": 0
      }
    }
  },
  "top_rules": {
    "min_trials": 25,
    "top_exclusion": [],
    "top_inclusion": [
      {
        "trigger_number": 30,
        "trigger_position": 13,
        "kind": "include",
        "predicted_numbers": [
          23,
          43,
          18,
          47
        ],
        "trials": 27,
        "correct": 14,
        "accuracy": 0.5185185185185185
      },
      {
        "trigger_number": 42,
        "trigger_position": 20,
        "kind": "include",
        "predicted_numbers": [
          1,
          5,
          13,
          4
        ],
        "trials": 33,
        "correct": 17,
        "accuracy": 0.5151515151515151
      },
      {
        "trigger_number": 49,
        "trigger_position": 9,
        "kind": "include",
        "predicted_numbers": [
          64,
          53
        ],
        "trials": 30,
        "correct": 15,
        "accuracy": 0.5
      },
      {
        "trigger_number": 60,
        "trigger_position": 20,
        "kind": "include",
        "predicted_numbers": [
          28,
          68,
          49,
          63
        ],
        "trials": 35,
        "correct": 17,
        "accuracy": 0.4857142857142857
      },
      {
        "trigger_number": 63,
        "trigger_position": 6,
        "kind": "include",
        "predicted_numbers": [
          57,
          44,
          15
        ],
        "trials": 33,
        "correct": 16,
        "accuracy": 0.48484848484848486
      },
      {
        "trigger_number": 25,
        "trigger_position": 14,
        "kind": "include",
        "predicted_numbers": [
          41,
          26,
          31,
          66,
          67
        ],
        "trials": 31,
        "correct": 15,
        "accuracy": 0.4838709677419355
      },
      {
        "trigger_number": 39,
        "trigger_position": 11,
        "kind": "include",
        "predicted_numbers": [
          18,
          23,
          15,
          1
        ],
        "trials": 31,
        "correct": 15,
        "accuracy": 0.4838709677419355
      },
      {
        "trigger_number": 59,
        "trigger_position": 14,
        "kind": "include",
        "predicted_numbers": [
          60,
          10,
          1
        ],
        "trials": 27,
        "correct": 13,
        "accuracy": 0.48148148148148145
      },
      {
        "trigger_number": 8,
        "trigger_position": 5,
        "kind": "include",
        "predicted_numbers": [
          57,
          54,
          13,
          10
        ],
        "trials": 36,
        "correct": 17,
        "accuracy": 0.4722222222222222
      },
      {
        "trigger_number": 26,
        "trigger_position": 2,
        "kind": "include",
        "predicted_numbers": [
          15,
          21,
          14,
          29
        ],
        "trials": 30,
        "correct": 14,
        "accuracy": 0.4666666666666667
      },
      {
        "trigger_number": 11,
        "trigger_position": 13,
        "kind": "include",
        "predicted_numbers": [
          59
        ],
        "trials": 31,
        "correct": 14,
        "accuracy": 0.45161290322580644
      },
      {
        "trigger_number": 27,
        "trigger_position": 6,
        "kind": "include",
        "predicted_numbers": [
          38
        ],
        "trials": 31,
        "correct": 14,
        "accuracy": 0.45161290322580644
      },
      {
        "trigger_number": 20,
        "trigger_position": 1,
        "kind": "include",
        "predicted_numbers": [
          38,
          27,
          2,
          24,
          52
        ],
        "trials": 29,
        "correct": 13,
        "accuracy": 0.4482758620689655
      },
      {
        "trigger_number": 1,
        "trigger_position": 9,
        "kind": "include",
        "predicted_numbers": [
          23,
          36,
          20
        ],
        "trials": 29,
        "correct": 13,
        "accuracy": 0.4482758620689655
      },
      {
        "trigger_number": 39,
        "trigger_position": 9,
        "kind": "include",
        "predicted_numbers": [
          9,
          2,
          32,
          57,
          63
        ],
        "trials": 29,
        "correct": 13,
        "accuracy": 0.4482758620689655
      },
      {
        "trigger_number": 36,
        "trigger_position": 19,
        "kind": "include",
        "predicted_numbers": [
          54,
          1,
          56
        ],
        "trials": 36,
        "correct": 16,
        "accuracy": 0.4444444444444444
      },
      {
        "trigger_number": 69,
        "trigger_position": 6,
        "kind": "include",
        "predicted_numbers": [
          46,
          19,
          2,
          5
        ],
        "trials": 27,
        "correct": 12,
        "accuracy": 0.4444444444444444
      },
      {
        "trigger_number": 49,
        "trigger_position": 4,
        "kind": "include",
        "predicted_numbers": [
          53,
          66,
          52
        ],
        "trials": 27,
        "correct": 12,
        "accuracy": 0.4444444444444444
      },
      {
        "trigger_number": 32,
        "trigger_position": 14,
        "kind": "include",
        "predicted_numbers": [
          12,
          65
        ],
        "trials": 27,
        "correct": 12,
        "accuracy": 0.4444444444444444
      },
      {
        "trigger_number": 18,
        "trigger_position": 3,
        "kind": "include",
        "predicted_numbers": [
          16,
          53,
          9,
          26,
          59
        ],
        "trials": 34,
        "correct": 15,
        "accuracy": 0.4411764705882353
      }
    ]
  }
}